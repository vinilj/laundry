{"version":3,"sources":["webpack:///src/app/store/orderlist/orderlist.page.html","webpack:///src/app/store/orderlist/orderlist-routing.module.ts","webpack:///src/app/store/orderlist/orderlist.module.ts","webpack:///src/app/store/orderlist/orderlist.page.scss","webpack:///src/app/store/orderlist/orderlist.page.ts"],"names":["routes","path","component","OrderlistPageRoutingModule","imports","forChild","exports","OrderlistPageModule","providers","declarations","OrderlistPage","navctrl","localStorage","toast","userService","orderService","dropOrders","selfOperatedCount","getUserData","subscribe","res","getUserDataById","id","user","getAllOrders","franchiseId","getDropOrder","backupOrders","orders","filter","a","opertationType","length","orderStatus","navigationExtras","queryParams","navigateForward","order","payload","weight","amount","updateOrder","console","log","toastSuccess","event","target","value","searchTerm","firstName","trim","toLowerCase","includes","mobile","userLogout","clearStorage","then","selector","template"],"mappings":"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","file":"store-orderlist-orderlist-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"background-primary\\\">\\n  <ion-grid>\\n    <ion-row *ngIf=\\\"backupOrders\\\">\\n      <ion-col>\\n        <h4 class=\\\"color-white  wallet-heading\\\">{{backupOrders.name}}</h4>\\n        <p class=\\\"color-white thin-font \\\">{{backupOrders.email}}</p>\\n        <p class=\\\"color-white thin-font \\\">{{backupOrders.address}}</p>\\n      </ion-col>\\n    </ion-row>\\n    <h3 class=\\\"color-white thin-font wallet-heading\\\">Infographics\\n      <ion-button color=\\\"secondary\\\" (click)=\\\"logout()\\\"  class=\\\"logout-btn\\\" >Logout</ion-button>\\n    </h3>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-card class=\\\"no-shadow\\\" color=\\\"secondary\\\">Self operated <h4>{{selfOperatedCount}}</h4>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card class=\\\"no-shadow\\\" color=\\\"secondary\\\">Dropoff <h4>{{dropOrders.length}}</h4>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <h4>Order list</h4>\\n\\n    <ion-searchbar mode=\\\"ios\\\" showCancelButton=\\\"focus\\\" [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"searchUser($event)\\\">\\n    </ion-searchbar>\\n\\n    <div *ngIf=\\\"dropOrders.length\\\">\\n      <ion-card class=\\\"no-shadow\\\" *ngFor=\\\"let order of dropOrders;let i=index\\\">\\n        <ion-row>\\n          <ion-col size=\\\"5\\\" (click)=\\\"goDetail(order.id)\\\">\\n            <h4 class=\\\"ion-no-margin\\\"> {{order.user.firstName}}</h4>\\n            <h5 class=\\\"ion-no-margin thin-font\\\">Wash ID-6409090{{order.id}}</h5>\\n            <h5 class=\\\"ion-no-margin thin-font\\\">{{order.startTime | dateTime}}</h5>\\n          </ion-col>\\n\\n\\n          <ion-col size=\\\"3\\\">\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"dropOrders[i].weight\\\" class=\\\"num-input\\\" placeholder=\\\"0:00 Kg\\\"\\n              maxlength=\\\"10\\\">\\n            </ion-input>\\n          </ion-col>\\n\\n          <ion-col size=\\\"3\\\">\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"dropOrders[i].amount\\\" class=\\\"num-input\\\" placeholder=\\\"INR 250\\\"\\n              maxlength=\\\"10\\\">\\n            </ion-input>\\n          </ion-col>\\n\\n          <ion-col class=\\\"ion-no-padding \\\" size=\\\"1\\\">\\n            <ion-button color=\\\"primary\\\" class=\\\"micro-btn\\\" (click)=\\\"updateOrder(order)\\\">Go</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card>\\n    </div>\\n\\n  </ion-grid>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderlistPage } from './orderlist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderlistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderlistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderlistPageRoutingModule } from './orderlist-routing.module';\n\nimport { OrderlistPage } from './orderlist.page';\nimport { PipesModule } from 'src/app/common/service/pipe/pipes.module';\nimport { LocalStroageService } from 'src/app/common/service/localstorage/local-stroage.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderlistPageRoutingModule,\n    PipesModule\n  ],\n  providers:[LocalStroageService],\n  declarations: [OrderlistPage]\n})\nexport class OrderlistPageModule {}\n","export default \".micro-btn {\\n  --padding-start:2px;\\n  --padding-end:2px;\\n}\\n\\n.logout-btn {\\n  height: 1.6em;\\n  font-size: 16px;\\n  line-height: 1.1em;\\n  --padding-start: 6px;\\n  --padding-end:6px;\\n  position: relative;\\n  left: 35%;\\n  right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RvcmUvb3JkZXJsaXN0L0Q6XFxQcm9qZWN0c1xcbGF1bmRyeVxcYXBwL3NyY1xcYXBwXFxzdG9yZVxcb3JkZXJsaXN0XFxvcmRlcmxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9zdG9yZS9vcmRlcmxpc3Qvb3JkZXJsaXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURDQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvc3RvcmUvb3JkZXJsaXN0L29yZGVybGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWljcm8tYnRue1xuICAgIC0tcGFkZGluZy1zdGFydDoycHg7XG4gICAgLS1wYWRkaW5nLWVuZDoycHg7XG59XG4ubG9nb3V0LWJ0bntcbiAgICBoZWlnaHQ6IDEuNmVtO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBsaW5lLWhlaWdodDogMS4xZW07XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gICAgLS1wYWRkaW5nLWVuZDo2cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGxlZnQ6IDM1JTtcbiAgICByaWdodDogYXV0bztcbn1cbiIsIi5taWNyby1idG4ge1xuICAtLXBhZGRpbmctc3RhcnQ6MnB4O1xuICAtLXBhZGRpbmctZW5kOjJweDtcbn1cblxuLmxvZ291dC1idG4ge1xuICBoZWlnaHQ6IDEuNmVtO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjFlbTtcbiAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gIC0tcGFkZGluZy1lbmQ6NnB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IDM1JTtcbiAgcmlnaHQ6IGF1dG87XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { OrderapiService } from 'src/app/common/apilayer/APIs/orderapi.service';\nimport { NavigationExtras } from '@angular/router';\nimport { ToastService } from '../../common/service/toast/toast.service';\nimport { UserapiService } from 'src/app/common/apilayer/APIs/userapi.service';\nimport { LocalStroageService } from 'src/app/common/service/localstorage/local-stroage.service';\n\n@Component({\n  selector: 'app-orderlist',\n  templateUrl: './orderlist.page.html',\n  styleUrls: ['./orderlist.page.scss'],\n})\nexport class OrderlistPage implements OnInit {\n  weight: number;\n  price: number;\n  dropOrders: any[] = [];\n  selfOperatedCount: number = 0;\n  user: any;\n  searchTerm: any;\n  backupOrders: any;\n\n  constructor(private navctrl: NavController,private localStorage:LocalStroageService, private toast: ToastService, private userService: UserapiService, private orderService: OrderapiService) {\n\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewWillEnter() {\n    this.userService.getUserData()\n      .subscribe(res => {\n        this.userService.getUserDataById(res.id)\n          .subscribe(res => {\n            this.user = res;\n            // this.storageService.setStorageKey('user', res)\n            //   .then(() => {\n            //     console.log(res);\n            this.getAllOrders(res.franchiseId)\n            // })\n          })\n      })\n  }\n\n  getAllOrders(franchiseId) {\n    this.orderService.getDropOrder(franchiseId)\n      .subscribe(res => {\n        this.backupOrders = res[0]\n\n\n        this.dropOrders = res[0].orders.filter(a => a.opertationType == 'drop off')\n\n        this.selfOperatedCount = res[0].orders.length - this.dropOrders.length\n\n        this.dropOrders = this.dropOrders.filter(a => a.orderStatus != 'delivered')\n        this.backupOrders.orders = this.dropOrders.filter(a => a.orderStatus != 'delivered')\n      })\n  }\n\n  goDetail(id) {\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        id: id\n      }\n    };\n    this.navctrl.navigateForward('storeorderdetail', navigationExtras)\n  }\n\n  updateOrder(order) {\n    let payload = {\n      id: order.id,\n      weight: order.weight,\n      amount: order.amount\n    }\n    this.orderService.updateOrder(payload)\n      .subscribe(res => {\n        console.log(res)\n        this.toast.toastSuccess('Order updated')\n      })\n\n  }\n  searchUser(event) {\n    this.dropOrders = this.backupOrders.orders\n    console.log(event.target.value, this.searchTerm);\n\n    this.dropOrders = this.dropOrders.filter(\n      a => a.user.firstName.trim().toLowerCase().includes(this.searchTerm) || a.user.mobile.includes(this.searchTerm)\n    );\n  }\n\n  logout() {\n    this.userService.userLogout()\n      .subscribe(res => {\n        this.localStorage.clearStorage()\n          .then(() => this.navctrl.navigateForward('login'))\n      })\n  }\n\n}\n"]}