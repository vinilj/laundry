{"version":3,"sources":["./src/app/store/orderlist/orderlist.page.html","./src/app/store/orderlist/orderlist-routing.module.ts","./src/app/store/orderlist/orderlist.module.ts","./src/app/store/orderlist/orderlist.page.scss","./src/app/store/orderlist/orderlist.page.ts"],"names":[],"mappings":"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","file":"store-orderlist-orderlist-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"background-primary\\\">\\n  <ion-grid>\\n    <ion-row *ngIf=\\\"backupOrders\\\">\\n      <ion-col>\\n        <h4 class=\\\"color-white  wallet-heading\\\">{{backupOrders.name}}</h4>\\n        <p class=\\\"color-white thin-font \\\">{{backupOrders.email}}</p>\\n        <p class=\\\"color-white thin-font \\\">{{backupOrders.address}}</p>\\n      </ion-col>\\n    </ion-row>\\n    <h3 class=\\\"color-white thin-font wallet-heading\\\">Infographics\\n      <ion-button color=\\\"secondary\\\" (click)=\\\"logout()\\\"  class=\\\"logout-btn\\\" >Logout</ion-button>\\n    </h3>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-card class=\\\"no-shadow\\\" color=\\\"secondary\\\">Self operated <h4>{{selfOperatedCount}}</h4>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card class=\\\"no-shadow\\\" color=\\\"secondary\\\">Dropoff <h4>{{dropOrders.length}}</h4>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <h4>Order list</h4>\\n\\n    <ion-searchbar mode=\\\"ios\\\" showCancelButton=\\\"focus\\\" [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"searchUser($event)\\\">\\n    </ion-searchbar>\\n\\n    <div *ngIf=\\\"dropOrders.length\\\">\\n      <ion-card class=\\\"no-shadow\\\" *ngFor=\\\"let order of dropOrders;let i=index\\\">\\n        <ion-row>\\n          <ion-col size=\\\"5\\\" (click)=\\\"goDetail(order.id)\\\">\\n            <h4 class=\\\"ion-no-margin\\\"> {{order.user.firstName}}</h4>\\n            <h5 class=\\\"ion-no-margin thin-font\\\">Wash ID-6409090{{order.id}}</h5>\\n            <h5 class=\\\"ion-no-margin thin-font\\\">{{order.startTime | dateTime}}</h5>\\n          </ion-col>\\n\\n\\n          <ion-col size=\\\"3\\\">\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"dropOrders[i].weight\\\" class=\\\"num-input\\\" placeholder=\\\"0:00 Kg\\\"\\n              maxlength=\\\"10\\\">\\n            </ion-input>\\n          </ion-col>\\n\\n          <ion-col size=\\\"3\\\">\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"dropOrders[i].amount\\\" class=\\\"num-input\\\" placeholder=\\\"INR 250\\\"\\n              maxlength=\\\"10\\\">\\n            </ion-input>\\n          </ion-col>\\n\\n          <ion-col class=\\\"ion-no-padding \\\" size=\\\"1\\\">\\n            <ion-button color=\\\"primary\\\" class=\\\"micro-btn\\\" (click)=\\\"updateOrder(order)\\\">Go</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card>\\n    </div>\\n\\n  </ion-grid>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderlistPage } from './orderlist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderlistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderlistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderlistPageRoutingModule } from './orderlist-routing.module';\n\nimport { OrderlistPage } from './orderlist.page';\nimport { PipesModule } from 'src/app/common/service/pipe/pipes.module';\nimport { LocalStroageService } from 'src/app/common/service/localstorage/local-stroage.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderlistPageRoutingModule,\n    PipesModule\n  ],\n  providers:[LocalStroageService],\n  declarations: [OrderlistPage]\n})\nexport class OrderlistPageModule {}\n","export default \".micro-btn {\\n  --padding-start:2px;\\n  --padding-end:2px;\\n}\\n\\n.logout-btn {\\n  height: 1.6em;\\n  font-size: 16px;\\n  line-height: 1.1em;\\n  --padding-start: 6px;\\n  --padding-end:6px;\\n  position: relative;\\n  left: 35%;\\n  right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RvcmUvb3JkZXJsaXN0L0Q6XFxQcm9qZWN0c1xcbGF1bmRyeVxcYXBwL3NyY1xcYXBwXFxzdG9yZVxcb3JkZXJsaXN0XFxvcmRlcmxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9zdG9yZS9vcmRlcmxpc3Qvb3JkZXJsaXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURDQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvc3RvcmUvb3JkZXJsaXN0L29yZGVybGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWljcm8tYnRue1xuICAgIC0tcGFkZGluZy1zdGFydDoycHg7XG4gICAgLS1wYWRkaW5nLWVuZDoycHg7XG59XG4ubG9nb3V0LWJ0bntcbiAgICBoZWlnaHQ6IDEuNmVtO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBsaW5lLWhlaWdodDogMS4xZW07XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gICAgLS1wYWRkaW5nLWVuZDo2cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGxlZnQ6IDM1JTtcbiAgICByaWdodDogYXV0bztcbn1cbiIsIi5taWNyby1idG4ge1xuICAtLXBhZGRpbmctc3RhcnQ6MnB4O1xuICAtLXBhZGRpbmctZW5kOjJweDtcbn1cblxuLmxvZ291dC1idG4ge1xuICBoZWlnaHQ6IDEuNmVtO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjFlbTtcbiAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gIC0tcGFkZGluZy1lbmQ6NnB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IDM1JTtcbiAgcmlnaHQ6IGF1dG87XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { OrderapiService } from 'src/app/common/apilayer/APIs/orderapi.service';\nimport { NavigationExtras } from '@angular/router';\nimport { ToastService } from '../../common/service/toast/toast.service';\nimport { UserapiService } from 'src/app/common/apilayer/APIs/userapi.service';\nimport { LocalStroageService } from 'src/app/common/service/localstorage/local-stroage.service';\n\n@Component({\n  selector: 'app-orderlist',\n  templateUrl: './orderlist.page.html',\n  styleUrls: ['./orderlist.page.scss'],\n})\nexport class OrderlistPage implements OnInit {\n  weight: number;\n  price: number;\n  dropOrders: any[] = [];\n  selfOperatedCount: number = 0;\n  user: any;\n  searchTerm: any;\n  backupOrders: any;\n\n  constructor(private navctrl: NavController,private localStorage:LocalStroageService, private toast: ToastService, private userService: UserapiService, private orderService: OrderapiService) {\n\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewWillEnter() {\n    this.userService.getUserData()\n      .subscribe(res => {\n        this.userService.getUserDataById(res.id)\n          .subscribe(res => {\n            this.user = res;\n            // this.storageService.setStorageKey('user', res)\n            //   .then(() => {\n            //     console.log(res);\n            this.getAllOrders(res.franchiseId)\n            // })\n          })\n      })\n  }\n\n  getAllOrders(franchiseId) {\n    this.orderService.getDropOrder(franchiseId)\n      .subscribe(res => {\n        this.backupOrders = res[0]\n\n\n        this.dropOrders = res[0].orders.filter(a => a.opertationType == 'drop off')\n\n        this.selfOperatedCount = res[0].orders.length - this.dropOrders.length\n\n        this.dropOrders = this.dropOrders.filter(a => a.orderStatus != 'delivered')\n        this.backupOrders.orders = this.dropOrders.filter(a => a.orderStatus != 'delivered')\n      })\n  }\n\n  goDetail(id) {\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        id: id\n      }\n    };\n    this.navctrl.navigateForward('storeorderdetail', navigationExtras)\n  }\n\n  updateOrder(order) {\n    let payload = {\n      id: order.id,\n      weight: order.weight,\n      amount: order.amount\n    }\n    this.orderService.updateOrder(payload)\n      .subscribe(res => {\n        console.log(res)\n        this.toast.toastSuccess('Order updated')\n      })\n\n  }\n  searchUser(event) {\n    this.dropOrders = this.backupOrders.orders\n    console.log(event.target.value, this.searchTerm);\n\n    this.dropOrders = this.dropOrders.filter(\n      a => a.user.firstName.trim().toLowerCase().includes(this.searchTerm) || a.user.mobile.includes(this.searchTerm)\n    );\n  }\n\n  logout() {\n    this.userService.userLogout()\n      .subscribe(res => {\n        this.localStorage.clearStorage()\n          .then(() => this.navctrl.navigateForward('login'))\n      })\n  }\n\n}\n"],"sourceRoot":"webpack:///"}