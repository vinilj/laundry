{"version":3,"sources":["./src/app/tabs/orderdetail/orderdetail.page.html","./src/app/tabs/orderdetail/orderdetail.module.ts","./src/app/tabs/orderdetail/orderdetail.page.scss","./src/app/tabs/orderdetail/orderdetail.page.ts"],"names":[],"mappings":"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","file":"orderdetail-orderdetail-module-es2015.js","sourcesContent":["export default \"<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"Pull to refresh\\\" refreshingSpinner=\\\"circles\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-grid>\\n    <h1>Promising Quality</h1>\\n    <h5 class=\\\"ion-no-margin\\\">10 years Industry trust</h5>\\n\\n\\n    <ion-card style=\\\"margin-top: 11em;\\\" *ngIf=\\\"orderDetail\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n\\n          <h4 class=\\\"card-heading ion-no-margin\\\"><span class=\\\"thin-font\\\">Wash type:\\n            </span>{{orderDetail.opertationType}}</h4>\\n          <h4 class=\\\"ion-no-margin\\\">Order ID: 64090909{{orderDetail.id}}</h4>\\n          <h4 class=\\\"thin-font ion-no-margin\\\">Marathahalli outlet</h4>\\n          <h4 class=\\\"thin-font ion-no-margin\\\" style=\\\"margin-bottom: 1em;\\\">{{orderDetail.startTime | dateTime}}</h4>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"btn-row-gray\\\">\\n        <ion-button expand=\\\"full\\\">Estimated time</ion-button>\\n        <ion-button expand=\\\"full\\\">30 Minutes</ion-button>\\n      </ion-row>\\n    </ion-card>\\n\\n\\n    <ion-card class=\\\"\\\" *ngIf=\\\"orderDetail\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n\\n          <h4 style=\\\"margin-bottom: 1em;\\\"><span class=\\\"thin-font \\\">Amount to be paid: </span>\\n            <span class=\\\"ion-float-right\\\">\\n              {{orderDetail.amount}} INR\\n            </span> </h4>\\n\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"btn-row\\\">\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\"></ion-button>\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"orderDetail.opertationType == 'drop off' && orderDetail.orderStatus==''\\\" *ngIf=\\\"orderDetail.paymentStatus == 'due'\\\"\\n          (click)='pay()'>Pay\\n        </ion-button>\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\" *ngIf=\\\"orderDetail.paymentStatus == 'paid'\\\">Paid</ion-button>\\n      </ion-row>\\n    </ion-card>\\n  </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderdetailPage } from './orderdetail.page';\nimport { RouterModule } from '@angular/router';\nimport { PipesModule } from 'src/app/common/service/pipe/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    RouterModule.forChild([{ path: '', component: OrderdetailPage }])\n  ],\n  declarations: [OrderdetailPage]\n})\nexport class OrderdetailPageModule {}\n","export default \".btn-row {\\n  margin: 0 -10px;\\n  background: var(--ion-color-primary);\\n}\\n.btn-row ion-button {\\n  --background: none;\\n  width: 48%;\\n  --box-shadow: none;\\n}\\n.btn-row-gray {\\n  margin: 0 -10px;\\n  background: #e5e5e5;\\n}\\n.btn-row-gray ion-button {\\n  --background: none;\\n  width: 48%;\\n  --box-shadow: none;\\n  color: black;\\n}\\nh1 {\\n  font-weight: 900;\\n  font-size: 4em;\\n  color: #e5e5e5;\\n}\\nh5 {\\n  margin: 0;\\n}\\n.thin-font {\\n  font-weight: 500;\\n}\\n.card-heading {\\n  margin: 1em 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy9vcmRlcmRldGFpbC9EOlxcUHJvamVjdHNcXGxhdW5kcnlcXGFwcC9zcmNcXGFwcFxcdGFic1xcb3JkZXJkZXRhaWxcXG9yZGVyZGV0YWlsLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFicy9vcmRlcmRldGFpbC9vcmRlcmRldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0Esb0NBQUE7QUNDRjtBREFFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7QUNFSjtBRENBO0VBQ0UsZUFBQTtFQUVBLG1CQUFBO0FDQ0Y7QURBRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0VKO0FEQ0E7RUFDSSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0FDRUo7QURBQTtFQUNFLFNBQUE7QUNHRjtBRERBO0VBQ0UsZ0JBQUE7QUNJRjtBREZBO0VBQ0ksYUFBQTtBQ0tKIiwiZmlsZSI6InNyYy9hcHAvdGFicy9vcmRlcmRldGFpbC9vcmRlcmRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuLXJvdyB7XG4gIG1hcmdpbjogMCAtMTBweDtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBpb24tYnV0dG9uIHtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgd2lkdGg6IDQ4JTtcbiAgICAtLWJveC1zaGFkb3c6IG5vbmU7XG4gIH1cbn1cbi5idG4tcm93LWdyYXkge1xuICBtYXJnaW46IDAgLTEwcHg7XG4gIC8vIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgYmFja2dyb3VuZDogI2U1ZTVlNTtcbiAgaW9uLWJ1dHRvbiB7XG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAgIHdpZHRoOiA0OCU7XG4gICAgLS1ib3gtc2hhZG93OiBub25lO1xuICAgIGNvbG9yOiBibGFjaztcbiAgfVxufVxuaDEge1xuICAgIGZvbnQtd2VpZ2h0OiA5MDA7XG4gICAgZm9udC1zaXplOiA0ZW07XG4gICAgY29sb3I6ICNlNWU1ZTU7XG59XG5oNSB7XG4gIG1hcmdpbjogMDtcbn1cbi50aGluLWZvbnQge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLmNhcmQtaGVhZGluZ3tcbiAgICBtYXJnaW46IDFlbSAwO1xufSIsIi5idG4tcm93IHtcbiAgbWFyZ2luOiAwIC0xMHB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uYnRuLXJvdyBpb24tYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICB3aWR0aDogNDglO1xuICAtLWJveC1zaGFkb3c6IG5vbmU7XG59XG5cbi5idG4tcm93LWdyYXkge1xuICBtYXJnaW46IDAgLTEwcHg7XG4gIGJhY2tncm91bmQ6ICNlNWU1ZTU7XG59XG4uYnRuLXJvdy1ncmF5IGlvbi1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gIHdpZHRoOiA0OCU7XG4gIC0tYm94LXNoYWRvdzogbm9uZTtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG5oMSB7XG4gIGZvbnQtd2VpZ2h0OiA5MDA7XG4gIGZvbnQtc2l6ZTogNGVtO1xuICBjb2xvcjogI2U1ZTVlNTtcbn1cblxuaDUge1xuICBtYXJnaW46IDA7XG59XG5cbi50aGluLWZvbnQge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uY2FyZC1oZWFkaW5nIHtcbiAgbWFyZ2luOiAxZW0gMDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { OrderapiService } from 'src/app/common/apilayer/APIs/orderapi.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PaymentService } from 'src/app/common/service/payment/payment.service';\nimport { ToastService } from 'src/app/common/service/toast/toast.service';\nimport { UserapiService } from 'src/app/common/apilayer/APIs/userapi.service';\ndeclare var RazorpayCheckout: any;\n\n\n@Component({\n  selector: 'app-orderdetail',\n  templateUrl: './orderdetail.page.html',\n  styleUrls: ['./orderdetail.page.scss'],\n})\nexport class OrderdetailPage implements OnInit {\n  orderId: any;\n  orderDetail: any;\n  currencyIcon: string = 'â‚¹';\n  currency: string = 'INR';\n  paymentAmount: number = 1600;\n  // // testKey\n  // razor_key: string = 'rzp_test_rRvE0JzWWGkqh1';\n\n  //Live Key\n  razor_key: string = 'rzp_live_1FMhHw7pwKiV36';\n  user: any;\n\n\n  constructor(private orderService: OrderapiService, private route: ActivatedRoute, private userService: UserapiService,\n    private router: Router, private paymentService: PaymentService, private toast: ToastService, ) {\n\n  }\n\n  doRefresh(event) {\n    setTimeout(() => {\n      this.ngOnInit()\n      event.target.complete();\n    }, 1000);\n  }\n  ngOnInit() {\n\n  }\n\n  ionViewWillEnter() {\n    this.route.queryParams.subscribe(params => {\n      console.log(params);\n\n      if (params && params.id) {\n        this.orderId = JSON.parse(params.id);\n        this.getOrderDetails()\n      }\n      this.userService.getUserData()\n        .subscribe(res => { this.user = res; console.log(res) })\n    });\n  }\n\n  getOrderDetails() {\n    console.log(this.orderId);\n\n    if (this.orderId)\n      this.orderService.getOrderById(this.orderId)\n        .subscribe(res => {\n          console.log(res)\n          this.orderDetail = res\n        })\n  }\n\n  pay() {\n    let user = {\n      email: this.user.email,\n      contact: this.user.mobile,\n      name: this.user.name,\n      amount: this.orderDetail.amount\n    }\n\n\n    var options = {\n      description: 'Credits towards consultation',\n      image: 'https://i.imgur.com/3g7nmJC.png',\n      currency: this.currency, // your 3 letter currency code\n      key: this.razor_key, // your Key Id from Razorpay dashboard\n      amount: user.amount * 100, // Payment amount in smallest denomiation e.g. cents for USD\n      name: 'Coin Laundry',\n      prefill: {\n        email: user.email,\n        contact: user.contact,\n        name: user.name\n      },\n      theme: {\n        color: '#642E58'\n        // color: '#00000'\n      },\n      modal: {\n        ondismiss: function () {\n          alert('dismissed')\n        }\n      }\n    };\n\n\n    RazorpayCheckout.open(options, (val) => this.successCallback(val), (err) => this.cancelCallback(err));\n\n\n  }\n\n\n\n  successCallback(payment_id) {\n    console.log('payment_id: ' + payment_id);\n    // alert('payment_id: ' + payment_id);\n    let payload = {\n      id: this.orderId,\n      paymentStatus: 'paid'\n    }\n    this.orderService.updateOrder(payload)\n      .subscribe(res => console.log(res))\n    this.toast.toastSuccess('Payment Successful');\n  };\n\n  cancelCallback(error) {\n    this.toast.toastFail('Payment Failed');\n    // alert(error.description + ' (Error ' + error.code + ')');\n  };\n}\n"],"sourceRoot":"webpack:///"}