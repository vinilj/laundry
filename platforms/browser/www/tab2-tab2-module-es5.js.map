{"version":3,"sources":["webpack:///src/app/tabs/tab2/tab2.page.html","webpack:///src/app/tabs/tab2/tab2.module.ts","webpack:///src/app/tabs/tab2/tab2.page.scss","webpack:///src/app/tabs/tab2/tab2.page.ts"],"names":["Tab2PageModule","imports","forChild","path","component","declarations","Tab2Page","orderService","toast","alertController","userService","allOrders","getAllOrders","create","header","inputs","name","type","placeholder","buttons","text","role","handler","data","console","log","addRechargeCoupon","subscribe","res","toastSuccess","err","toastFail","message","alert","present","getUserIdFromStorage","then","totalWalletBalance","forEach","element","rewardAmount","getUserWallet","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"background-primary\\\">\\n  <ion-grid>\\n    <h4 class=\\\"color-white thin-font wallet-heading\\\">Rewared Coins\\n      <span style=\\\"margin-left: 26px;\\\">\\n       {{totalWalletBalance}}\\n      </span>\\n    </h4>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-button color=\\\"secondary\\\" expand=\\\"block\\\">Rewards</ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <ion-button color=\\\"secondary\\\" expand=\\\"block\\\" (click)=\\\"addCoupons()\\\">Recharge</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-card class=\\\" gray-color earned-card\\\">\\n      <h4 style=\\\"color: #E86F00;\\\" class=\\\"thin-font\\\">You Have Earned {{totalWalletBalance}} coins</h4>\\n      <h6 class=\\\"thin-font color-gray ion-no-margin\\\">*You can use coins at the time of payment</h6>\\n\\n    </ion-card>\\n\\n    <ul class=\\\"progress\\\">\\n      <li *ngFor=\\\"let item of allOrders\\\">\\n        <h5>{{item.franchise.name}}\\n          <span class=\\\"ion-float-right\\\">{{item.amount}} INR</span>\\n        </h5>\\n        <h5 class=\\\"ion-no-margin thin-font\\\">{{item.startTime | dateTime}}</h5>\\n        <h5 class=\\\"ion-no-margin thin-font\\\">Wash ID-640909{{item.id}}</h5>\\n        <h5 class=\\\"thin-font round-btn-bordered\\\" *ngIf=\\\"item.rewardAmount\\\">Kudos {{item.rewardAmount}} coins added to wallet</h5>\\n      </li>\\n     \\n    </ul>\\n  </ion-grid>\\n</ion-content>\";","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { PipesModule } from '../../common/service/pipe/pipes.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    PipesModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \".progress {\\n  padding-left: 3em;\\n  list-style-type: none !important;\\n}\\n\\nul.progress li {\\n  position: relative;\\n  margin-bottom: 0;\\n  padding-bottom: 1em;\\n}\\n\\nul.progress li:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: -2.5em;\\n  top: 0px;\\n  border: 0.6em solid #2b9f02;\\n  border-radius: 50%;\\n}\\n\\nul.progress li:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: -2em;\\n  border-left: 2px dashed #2b9f02;\\n  height: 120%;\\n  width: 1px;\\n}\\n\\n.round-btn-bordered {\\n  border: 1px solid #2b9f02;\\n  text-align: center;\\n  border-radius: 15px;\\n  padding: 4px 12px;\\n  font-size: 0.8em;\\n  margin: 0;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.wallet-heading {\\n  margin: 4em 0 1em 0;\\n}\\n\\n.earned-card {\\n  box-shadow: none;\\n  padding: 1.5em 1em;\\n}\\n\\n.earned-card h4 {\\n  margin: 0;\\n}\\n\\nion-button {\\n  font-size: 14px;\\n  margin-bottom: 1em;\\n  height: 4em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy90YWIyL0Q6XFxQcm9qZWN0c1xcbGF1bmRyeVxcYXBwL3NyY1xcYXBwXFx0YWJzXFx0YWIyXFx0YWIyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFicy90YWIyL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxnQ0FBQTtBQ0NGOztBRENBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDRUY7O0FEQ0E7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7QUNFRjs7QURDQTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSwrQkFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0FDRUY7O0FEQUE7RUFDRSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtBQ0dGOztBRERBO0VBQ0UsbUJBQUE7QUNJRjs7QURGQTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7QUNLRjs7QURKRTtFQUNFLFNBQUE7QUNNSjs7QURIQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNNRiIsImZpbGUiOiJzcmMvYXBwL3RhYnMvdGFiMi90YWIyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9ncmVzcyB7XG4gIHBhZGRpbmctbGVmdDogM2VtO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmUgIWltcG9ydGFudDtcbn1cbnVsLnByb2dyZXNzIGxpIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBwYWRkaW5nLWJvdHRvbTogMWVtO1xufVxuXG51bC5wcm9ncmVzcyBsaTphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogLTIuNWVtO1xuICB0b3A6IDBweDtcbiAgYm9yZGVyOiAwLjZlbSBzb2xpZCAjMmI5ZjAyO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbnVsLnByb2dyZXNzIGxpOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogLTJlbTtcbiAgYm9yZGVyLWxlZnQ6IDJweCBkYXNoZWQgIzJiOWYwMjtcbiAgaGVpZ2h0OiAxMjAlO1xuICB3aWR0aDogMXB4O1xufVxuLnJvdW5kLWJ0bi1ib3JkZXJlZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMyYjlmMDI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgcGFkZGluZzogNHB4IDEycHg7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIG1hcmdpbjogMDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xufVxuLndhbGxldC1oZWFkaW5nIHtcbiAgbWFyZ2luOiA0ZW0gMCAxZW0gMDtcbn1cbi5lYXJuZWQtY2FyZCB7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG4gIHBhZGRpbmc6IDEuNWVtIDFlbTtcbiAgaDQge1xuICAgIG1hcmdpbjogMDtcbiAgfVxufVxuaW9uLWJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICBoZWlnaHQ6IDRlbTtcbn1cbiIsIi5wcm9ncmVzcyB7XG4gIHBhZGRpbmctbGVmdDogM2VtO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmUgIWltcG9ydGFudDtcbn1cblxudWwucHJvZ3Jlc3MgbGkge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIHBhZGRpbmctYm90dG9tOiAxZW07XG59XG5cbnVsLnByb2dyZXNzIGxpOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAtMi41ZW07XG4gIHRvcDogMHB4O1xuICBib3JkZXI6IDAuNmVtIHNvbGlkICMyYjlmMDI7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxudWwucHJvZ3Jlc3MgbGk6YmVmb3JlIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAtMmVtO1xuICBib3JkZXItbGVmdDogMnB4IGRhc2hlZCAjMmI5ZjAyO1xuICBoZWlnaHQ6IDEyMCU7XG4gIHdpZHRoOiAxcHg7XG59XG5cbi5yb3VuZC1idG4tYm9yZGVyZWQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjMmI5ZjAyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIHBhZGRpbmc6IDRweCAxMnB4O1xuICBmb250LXNpemU6IDAuOGVtO1xuICBtYXJnaW46IDA7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbn1cblxuLndhbGxldC1oZWFkaW5nIHtcbiAgbWFyZ2luOiA0ZW0gMCAxZW0gMDtcbn1cblxuLmVhcm5lZC1jYXJkIHtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgcGFkZGluZzogMS41ZW0gMWVtO1xufVxuLmVhcm5lZC1jYXJkIGg0IHtcbiAgbWFyZ2luOiAwO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG4gIGhlaWdodDogNGVtO1xufSJdfQ== */\";","import { Component } from '@angular/core';\nimport { OrderapiService } from '../../common/apilayer/APIs/orderapi.service';\nimport { UserapiService } from '../../common/apilayer/APIs/userapi.service';\nimport { AlertController } from '@ionic/angular';\nimport { ToastService } from 'src/app/common/service/toast/toast.service';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  allOrders: any[] = [];\n  totalWalletBalance: number;\n\n  constructor(private orderService: OrderapiService, private toast: ToastService, private alertController: AlertController, private userService: UserapiService) {\n    // this.getAllOrders();\n    // this.addCoupons()\n  }\n\n  ionViewWillEnter(){\n    this.getAllOrders();\n  }\n\n  async addCoupons() {\n    const alert = await this.alertController.create({\n      header: 'Please enter  recharge coupon code',\n      inputs: [\n        {\n          name: 'couponCode',\n          type: 'text',\n          placeholder: 'Apply Coupon Code'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n\n        }, {\n          text: 'Add Balance',\n          handler: (data) => {\n            console.log(data);\n            this.userService.addRechargeCoupon(data)\n              .subscribe(res => {\n                this.toast.toastSuccess('Coupon Applied !!')\n              },\n                err => {\n                  this.toast.toastFail(err.message)\n                })\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  getAllOrders() {\n    this.orderService.getUserIdFromStorage()\n      .then(() => {\n        this.totalWalletBalance = 0;\n\n        this.orderService.getAllOrders()\n          .subscribe(res => {\n            console.log(res)\n            this.allOrders = res\n            res.forEach(element => {\n              this.totalWalletBalance += element.rewardAmount\n            });\n          })\n\n      })\n  }\n\n  getUserWalletData() {\n    this.userService.getUserIdFromStorage()\n      .then(() => {\n        this.userService.getUserWallet()\n          .subscribe(res => {\n            console.log(res, 'wallet');\n          \n\n          })\n      })\n  }\n}\n"]}